{"version":3,"sources":["webpack:///./src/views/Shops/Comments.vue?fe13","webpack:///src/views/Shops/Comments.vue","webpack:///./src/views/Shops/Comments.vue?48ce","webpack:///./src/views/Shops/Comments.vue","webpack:///./src/views/Shops/Comments.vue?ce8c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","evaluation","rating","shop_score","toFixed","attrs","taste_score","package_score","rider_score","_l","item","index","key","class","unsatisfied","name","count","_e","avatar","username","rated_at","style","color","ratingcontent","txt","comment_text","reply","content","img","i","image_hash","staticRenderFns","created","getData","data","methods","axios","then","console","log","res","components","Rating","component"],"mappings":"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","file":"js/chunk-507e7fc7.db91ffff.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.evaluation)?_c('div',{staticClass:\"comment\"},[_c('section',{staticClass:\"rating-wrap\"},[_c('div',{staticClass:\"rating-info\"},[_c('h4',[_vm._v(_vm._s(_vm.evaluation.rating.shop_score.toFixed(1)))]),_c('div',{staticClass:\"shop-score\"},[_c('span',[_vm._v(\"商家评分\")]),_c('rating',{attrs:{\"rating\":_vm.evaluation.rating.shop_score}})],1)]),_c('div',{staticClass:\"other-score\"},[_c('div',{staticClass:\"tp-score\"},[_c('div',[_c('span',[_vm._v(\"味道\")]),_c('p',[_vm._v(_vm._s(_vm.evaluation.rating.taste_score.toFixed(1)))])]),_c('div',[_c('span',[_vm._v(\"包装\")]),_c('p',[_vm._v(_vm._s(_vm.evaluation.rating.package_score.toFixed(1)))])])]),_c('div',{staticClass:\"rider-score\"},[_c('span',[_vm._v(\"配送\")]),_c('p',[_vm._v(_vm._s(_vm.evaluation.rating.rider_score.toFixed(1)))])])])]),_c('div',{staticClass:\"shop-info\"},[_c('ul',{staticClass:\"tags\"},_vm._l((_vm.evaluation.tags),function(item,index){return _c('li',{key:index,class:{'unsatisfied':item.unsatisfied}},[_vm._v(\"\\n        \"+_vm._s(item.name)+\"\\n        \"),(item.count > 0)?_c('span',[_vm._v(_vm._s(item.count))]):_vm._e()])}),0),_c('ul',{staticClass:\"comments-wrap\"},_vm._l((_vm.evaluation.comments),function(item,index){return _c('li',{key:index},[_c('div',{staticClass:\"comment-user\"},[_c('img',{attrs:{\"src\":item.avatar || 'https://shadow.elemecdn.com/faas/h5/static/sprite.3ffb5d8.png',\"alt\":\"\"}})]),_c('div',{staticClass:\"comments-info\"},[_c('div',{staticClass:\"comment-name\"},[_c('h4',[_vm._v(_vm._s(item.username))]),_c('small',[_vm._v(_vm._s(item.rated_at))])]),_c('div',{staticClass:\"comment-rating\"},[_c('Rating',{attrs:{\"rating\":item.rating}}),_c('span',{style:({color: _vm.ratingcontent(item.rating).color})},[_vm._v(_vm._s(_vm.ratingcontent(item.rating).txt))])],1),_c('div',{staticClass:\"comment-text\"},[_vm._v(_vm._s(item.comment_text))]),_c('div',{staticClass:\"comment-reply\"},[_vm._v(_vm._s(item.reply.content))]),_c('ul',{staticClass:\"comment-imgs\"},_vm._l((item.order_images),function(img,i){return _c('li',{key:i},[_c('img',{attrs:{\"src\":img.image_hash,\"alt\":\"\"}})])}),0)])])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment\" v-if=\"evaluation\">\r\n    <!--商家评分-->\r\n    <section class=\"rating-wrap\">\r\n      <div class=\"rating-info\">\r\n        <h4>{{ evaluation.rating.shop_score.toFixed(1) }}</h4>\r\n        <div class=\"shop-score\">\r\n          <span>商家评分</span>\r\n          <rating :rating=\"evaluation.rating.shop_score\"></rating>\r\n        </div>\r\n      </div>\r\n      <div class=\"other-score\">\r\n        <div class=\"tp-score\">\r\n          <div>\r\n            <span>味道</span>\r\n            <p>{{ evaluation.rating.taste_score.toFixed(1) }}</p>\r\n          </div>\r\n          <div>\r\n            <span>包装</span>\r\n            <p>{{ evaluation.rating.package_score.toFixed(1) }}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"rider-score\">\r\n          <span>配送</span>\r\n          <p>{{evaluation.rating.rider_score.toFixed(1)}}</p>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <!-- 评论区 -->\r\n    <div class=\"shop-info\">\r\n      <!-- 标签 -->\r\n      <ul class=\"tags\">\r\n        <li\r\n          :class=\"{'unsatisfied':item.unsatisfied}\"\r\n          v-for=\"(item,index) in evaluation.tags\"\r\n          :key=\"index\"\r\n        >\r\n          {{item.name}}\r\n          <span v-if=\"item.count > 0\">{{item.count}}</span>\r\n        </li>\r\n      </ul>\r\n      <!-- 内容 -->\r\n      <ul class=\"comments-wrap\">\r\n        <li v-for=\"(item,index) in evaluation.comments\" :key=\"index\">\r\n          <div class=\"comment-user\">\r\n            <img\r\n              :src=\"item.avatar || 'https://shadow.elemecdn.com/faas/h5/static/sprite.3ffb5d8.png'\"\r\n              alt\r\n            >\r\n          </div>\r\n          <div class=\"comments-info\">\r\n            <div class=\"comment-name\">\r\n              <h4>{{item.username}}</h4>\r\n              <small>{{item.rated_at}}</small>\r\n            </div>\r\n            <div class=\"comment-rating\">\r\n              <Rating :rating=\"item.rating\"/>\r\n              <span\r\n                :style=\"{color: ratingcontent(item.rating).color}\"\r\n              >{{ratingcontent(item.rating).txt}}</span>\r\n            </div>\r\n            <div class=\"comment-text\">{{item.comment_text}}</div>\r\n            <div class=\"comment-reply\">{{item.reply.content}}</div>\r\n            <ul class=\"comment-imgs\">\r\n              <li v-for=\"(img,i) in item.order_images\" :key=\"i\">\r\n                <img :src=\"img.image_hash\" alt>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Rating from \"@/components/Rating\";\r\nexport default {\r\n  name: \"comments\",\r\n  created() {\r\n    this.getData();\r\n  },\r\n  data() {\r\n    return {\r\n      evaluation: null\r\n    };\r\n  },\r\n  methods: {\r\n    getData() {\r\n      this.axios(\"/api/profile/comments\").then(res => {\r\n        console.log(res.data);\r\n        this.evaluation = res.data;\r\n      });\r\n    },\r\n    ratingcontent(rating) {\r\n      const content = [\r\n        { txt: \"吐槽\", color: \"rgb(137,159,188)\" },\r\n        { txt: \"较差\", color: \"rgb(137, 159, 188)\" },\r\n        { txt: \"一般\", color: \"rgb(251, 154, 11)\" },\r\n        { txt: \"满意\", color: \"rgb(251, 154, 11)\" },\r\n        { txt: \"超赞\", color: \"rgb(255, 96, 0)\" }\r\n      ];\r\n      return content[rating - 1];\r\n    }\r\n  },\r\n  components: {\r\n    Rating\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.comment{\r\n  height:calc(100vh - 10.66667vh);\r\n}\r\n.rating-wrap{\r\n  display: flex;\r\n  padding: 5.333333vw 0 8vw 6.4vw;\r\n  background-color: #fff;\r\n}\r\n.rating-info{\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 33.6vw;\r\n  align-items: center;\r\n  color: #666;\r\n}\r\n.rating-info h4 {\r\n  align-items: center;\r\n  font-size: 24px;\r\n  color: #ff6000;\r\n}\r\n.rating-info .shop-score {\r\n  align-items: flex-start;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n.other-score{\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content:space-between;\r\n  align-items: center\r\n}\r\n.tp-score{\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  flex: 1;\r\n  padding: 0 7.2vw;\r\n  align-items: center;\r\n}\r\n.tp-score > div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.tp-score > div > span,\r\n.rider-score > span {\r\n  font-size: 20px;\r\n  margin-bottom: 1.333333vw;\r\n}\r\n.rider-score {\r\n  width: 22.933333vw;\r\n  border-left: 1px solid #ddd;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.shop-info {\r\n  background-color: #fff;\r\n  padding: 2.666667vw 3.2vw 0;\r\n  font-size: 24px;\r\n}\r\n.tags {\r\n  padding-bottom: 2.666667vw;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n.tags li {\r\n  color: #6d7885;\r\n  background-color: #ebf5ff;\r\n  display: inline-block;\r\n  padding: 0 2.4vw;\r\n  height: 7.466667vw;\r\n  line-height: 7.466667vw;\r\n  margin: 0.933333vw;\r\n  font-size: 24px;\r\n  border-radius: 0.533333vw;\r\n}\r\n\r\n.unsatisfied {\r\n  color: #aaa !important;\r\n  background-color: #f5f5f5 !important;\r\n}\r\n\r\n.comments-wrap > li {\r\n  padding: 4vw 0 3.2vw;\r\n  border-bottom: 0.133333vw solid #eee;\r\n  display: flex;\r\n}\r\n.comment-user {\r\n  width: 10.666667vw;\r\n}\r\n.comment-user img {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n}\r\n.comments-info {\r\n  flex: 1;\r\n  font-size: 24px;\r\n}\r\n.comment-name {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.comment-name h4 {\r\n  margin-top: 0;\r\n  color: #333;\r\n  margin-right: 1.6vw;\r\n}\r\n.comment-name small {\r\n  font-size: 24px;\r\n  color: #999;\r\n}\r\n.comment-rating {\r\n  display: flex;\r\n  margin: 1.6vw 0 0.533333vw;\r\n  align-items: center;\r\n}\r\n.comment-rating > span {\r\n  font-size: 24px;\r\n  margin-left: 1.066667vw;\r\n}\r\n.comment-text {\r\n  color: #333;\r\n  word-break: break-word;\r\n  margin: 2.133333vw 0;\r\n}\r\n.comment-reply {\r\n  margin: 2.666667vw 0;\r\n  padding: 2.666667vw;\r\n  border-radius: 1.066667vw;\r\n  background: #f3f3f3;\r\n  position: relative;\r\n  font-size:24px;\r\n}\r\n.comment-reply::after {\r\n  content: \" \";\r\n  position: absolute;\r\n  bottom: 100%;\r\n  left: 4vw;\r\n  width: 0;\r\n  height: 0;\r\n  border-style: solid;\r\n  border-width: 0 2.133333vw 2.133333vw;\r\n  border-color: transparent transparent #f3f3f3;\r\n}\r\n.comment-imgs {\r\n  margin-top: 1.066667vw;\r\n  margin-bottom: 3.2vw;\r\n}\r\n.comment-imgs > li {\r\n  display: inline-block;\r\n  margin: 0 0.533333vw;\r\n}\r\n.comment-imgs > li img {\r\n  width: 40vw;\r\n  height: 40vw;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=52402f28&scoped=true&\"\nimport script from \"./Comments.vue?vue&type=script&lang=js&\"\nexport * from \"./Comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comments.vue?vue&type=style&index=0&id=52402f28&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52402f28\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=52402f28&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=52402f28&scoped=true&lang=css&\""],"sourceRoot":""}