(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d21197e"],{"06c5":function(s,e,t){"use strict";var a=t("cc1e"),n=t.n(a);n.a},"0e45":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"addAdderss"},[t("Header",{attrs:{isLeft:!0,title:s.title}}),t("div",{staticClass:"viewbody"},[t("div",{staticClass:"content"},[t("form-block",{attrs:{label:"联系人",placeholder:"姓名",sex:s.addressInfo.sex,tags:s.sexes},on:{checkSex:s.checkSex},model:{value:s.addressInfo.name,callback:function(e){s.$set(s.addressInfo,"name",e)},expression:"addressInfo.name"}}),t("form-block",{attrs:{label:"电话",placeholder:"手机号码"},model:{value:s.addressInfo.phone,callback:function(e){s.$set(s.addressInfo,"phone",e)},expression:"addressInfo.phone"}}),t("form-block",{attrs:{label:"地址",placeholder:"小区/写字楼/学校等",icon:"angle-right"},on:{click:function(e){s.showSearch=!0}},model:{value:s.addressInfo.address,callback:function(e){s.$set(s.addressInfo,"address",e)},expression:"addressInfo.address"}}),t("form-block",{attrs:{label:"门牌号",placeholder:"10号楼5单元404",icon:"edit",textarea:"textarea"},model:{value:s.addressInfo.bottom,callback:function(e){s.$set(s.addressInfo,"bottom",e)},expression:"addressInfo.bottom"}}),t("div",{staticClass:"formblock"},[t("div",{staticClass:"label-wrap"},[s._v("标签")]),t("TabTag",{attrs:{tags:s.tags,selectTag:s.addressInfo.tag},on:{checkTag:s.checkTag}})],1)],1),t("div",{staticClass:"form-button-wrap"},[t("button",{staticClass:"form-button",on:{click:s.handleSave}},[s._v("确定")])])]),t("address-search",{attrs:{addressInfo:s.addressInfo,showSearch:s.showSearch},on:{close:function(e){s.showSearch=!1}}})],1)},n=[],o=(t("cc57"),t("660a")),c=function(){var s=this,e=s.$createElement,t=s._self._c||e;return s.showSearch?t("div",{staticClass:"addressSearch"},[t("div",{staticClass:"search-view"},[t("div",{staticClass:"search-box"},[t("div",{staticClass:"search-box-input"},[t("i",{staticClass:"fa fa-search"}),t("input",{directives:[{name:"model",rawName:"v-model",value:s.search_address,expression:"search_address"}],attrs:{type:"text",placeholder:"请输入小区/写字楼/学校等"},domProps:{value:s.search_address},on:{input:function(e){e.target.composing||(s.search_address=e.target.value)}}})]),t("button",{staticClass:"search-box-btn",on:{click:function(e){return s.$emit("close")}}},[s._v("取消")])]),t("ul",{staticClass:"search-list"},s._l(s.areaList,(function(e,a){return t("li",{key:a,staticClass:"search-row",on:{click:function(t){return s.selectAddress(e)}}},[t("p",{staticClass:"search-row-title"},[s._v(s._s(e.name))]),t("p",{staticClass:"search-row-location"},[s._v("\n          "+s._s(e.district)+s._s(e.address)+"\n        ")])])})),0)])]):s._e()},r=[],i=(t("c0c3"),{name:"addresssearch",data:function(){return{search_address:"",areaList:[]}},props:{showSearch:Boolean,addressInfo:Object},watch:{search_address:function(s){this.searchPlace(s)}},computed:{city:function(){}},methods:{selectAddress:function(s){this.addressInfo.address=s.name+s.district+s.address,this.$emit("close")},searchPlace:function(s){var e=this;console.log(this.city),AMap.plugin("AMap.Autocomplete",(function(){var t={city:e.city},a=new AMap.Autocomplete(t);a.search(s,(function(s,t){console.log(t),e.areaList=t.tips}))}))}}}),d=i,l=(t("1b01"),t("9ca4")),u=Object(l["a"])(d,c,r,!1,null,"15478ceb",null),h=u.exports,f=t("0418"),p=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"formblock"},[t("div",{staticClass:"label-wrap"},[s._v(s._s(s.label))]),t("div",{staticClass:"input-group-wrap",on:{click:function(e){return s.$emit("click")}}},[t("div",{staticClass:"input-wrap"},[s.textarea?t("textarea",{attrs:{type:s.type,placeholder:s.placeholder,rows:"2",maxlength:"100"},domProps:{value:s.value},on:{input:function(e){return s.$emit("input",e.target.value)}}},[s._v('              <i v-if="icon" :class="\'fa fa-\' + icon"></i>\n        ')]):t("input",{attrs:{type:s.type,placeholder:s.placeholder},domProps:{value:s.value},on:{input:function(e){return s.$emit("input",e.target.value)}}})]),s.tags?t("TabTag",{attrs:{selectTag:s.sex,tags:s.tags},on:{checkTag:s.checkTag}}):s._e()],1)])},m=[],g=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"input-wrap"},s._l(s.tags,(function(e,a){return t("span",{key:a,staticClass:"form-span",class:{checked:s.selectTag==e},on:{click:function(t){return s.$emit("checkTag",e)}}},[s._v("\n  "+s._s(e))])})),0)},v=[],b={name:"TabTag",props:{tags:Array,selectTag:String}},k=b,_=(t("334f"),Object(l["a"])(k,g,v,!1,null,"54a81ed4",null)),x=_.exports,I={name:"formblock",props:{type:{type:String,default:"text"},placeholder:String,value:String,label:String,icon:String,textarea:String,tags:Array,sex:String},components:{TabTag:x},methods:{checkTag:function(s){this.$emit("checkSex",s)}}},w=I,S=(t("06c5"),Object(l["a"])(w,p,m,!1,null,"00ac577c",null)),C=S.exports,T={name:"myaddress",data:function(){return{showSearch:!1,title:"",tags:["家","学校","公司"],addressInfo:{},sexes:["先生","女士"]}},components:{Header:f["a"],FormBlock:C,TabTag:x,AddressSearch:h},beforeRouteEnter:function(s,e,t){t((function(e){e.addressInfo=s.params.addressInfo,e.title=s.params.title}))},methods:{showMessage:function(s){Object(o["Toast"])({message:s,position:"bottom",duration:5e3})},checkTag:function(s){this.addressInfo.tag=s},checkSex:function(s){this.addressInfo.sex=s},handleSave:function(){console.log(this.addressInfo),this.addressInfo.name?this.addressInfo.phone?this.addressInfo.address?"添加地址"==this.title?this.addAddress():this.editAddress():this.showMessage("请输入收货地址"):this.showMessage("请输入电话"):this.showMessage("请输入联系人")},addAddress:function(){var s=this;this.axios.post("/api/user/add_address/".concat(localStorage.love_login),this.addressInfo).then((function(e){s.$store.getters.userInfo||s.$store.dispatch("setUserInfo",s.addressInfo),s.$router.push("myAddress")})).catch((function(s){return console.log(s)}))},editAddress:function(){var s=this;this.axios.post("/api/user/edit_address/".concat(localStorage.love_login,"/").concat(this.addressInfo._id),this.addressInfo).then((function(e){s.$router.push("/myaddress")}))}}},y=T,$=(t("4073"),Object(l["a"])(y,a,n,!1,null,"c5817194",null));e["default"]=$.exports},"1b01":function(s,e,t){"use strict";var a=t("7130"),n=t.n(a);n.a},2256:function(s,e,t){},"334f":function(s,e,t){"use strict";var a=t("462e"),n=t.n(a);n.a},4073:function(s,e,t){"use strict";var a=t("2256"),n=t.n(a);n.a},"462e":function(s,e,t){},7130:function(s,e,t){},cc1e:function(s,e,t){}}]);
//# sourceMappingURL=chunk-9d21197e.72a0bb9a.js.map