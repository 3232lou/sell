(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52b4ae62"],{"0c57":function(t,e,s){"use strict";var a=s("20a1"),r=s.n(a);r.a},"10ed":function(t,e,s){"use strict";var a=s("240b"),r=s.n(a);r.a},"169d":function(t,e,s){},"20a1":function(t,e,s){},"240b":function(t,e,s){},5451:function(t,e,s){"use strict";var a=s("d96c"),r=s.n(a);r.a},a6e4:function(t,e,s){"use strict";var a=s("f37c"),r=s.n(a);r.a},bc78:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settlement"},[s("Header",{attrs:{isLeft:!0,title:"确认订单"}}),t.orderInfo?s("div",{staticClass:"view-body"},[s("div",{},[s("section",{staticClass:"cart-address"},[s("p",{staticClass:"title"},[t._v("\n          订单配送至\n          "),t.userInfo&&t.userInfo.tag?s("span",{staticClass:"address-tag"},[t._v(t._s(t.userInfo.tag))]):t._e()]),s("p",{staticClass:"address-detail"},[t.userInfo?s("span",{on:{click:function(e){return t.$router.push("/myAddress")}}},[t._v(t._s(t.userInfo.address)+t._s(t.userInfo.bottom))]):s("span",[t.haveAddress?s("span",{on:{click:function(e){return t.$router.push("/myAddress")}}},[t._v("选择收货地址")]):s("span",{on:{click:t.addAddress}},[t._v("新增收货地址 ")])]),s("i",{staticClass:"fa fa-angle-right"})]),t.userInfo?s("h2",{staticClass:"address-name"},[s("span",[t._v(t._s(t.userInfo.name))]),t.userInfo.sex?s("span",[t._v("("+t._s(t.userInfo.sex)+")")]):t._e(),s("span",{staticClass:"phone"},[t._v(t._s(t.userInfo.phone))])]):t._e()]),s("Delivery",{attrs:{shopInfo:t.orderInfo.shopInfo}}),s("CartGroup",{attrs:{orderInfo:t.orderInfo,totalPrice:t.totalPrice}}),s("section",{staticClass:"checkout-section"},[s("cart-item",{attrs:{title:"餐具份数",subHead:t.remarkInfo.tableware||"未选择"},on:{click:function(e){t.showTableware=!0}}}),s("cart-item",{attrs:{title:"订单备注",subHead:t.remarkInfo.remark||"口味、偏好"},on:{click:function(e){return t.$router.push("/remark")}}}),s("cart-item",{attrs:{title:"发票信息",subHead:"不需要开发票"}})],1),s("table-ware",{attrs:{isShow:t.showTableware},on:{close:function(e){t.showTableware=!1}}})],1)]):t._e(),s("footer",{staticClass:"action-bar"},[s("span",[t._v("￥"+t._s(t.totalPrice))]),s("button",{on:{click:function(e){return t.handlePay()}}},[t._v("去支付")])])],1)},r=[],n=s("660a"),i=s("0418"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checkout-section"},[s("div",{staticClass:"delivery"},[s("div",{staticClass:"deliver-left"},[s("span",{staticClass:"delivery-time"},[t._v("送达时间")]),t.shopInfo.delivery_mode.text?s("div",{staticClass:"delivery-extra"},[s("span",[t._v(t._s(t.shopInfo.delivery_mode.text))])]):t._e()]),s("div",{staticClass:"delivery-right"},[s("span",{staticClass:"delivery-select"},[t._v("尽快送达("+t._s(t.deliveryTime(t.shopInfo.order_lead_time))+"送达) ")]),s("i",{staticClass:"fa fa-angle-right"})])]),t._m(0)])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-item"},[s("div",{staticClass:"cart-item-title"},[t._v("支付方式")]),s("div",{staticClass:"pay-text"},[t._v("在线支付")])])}],l={name:"delivery",props:{shopInfo:Object},methods:{deliveryTime:function(t){var e=new Date;return e.setMinutes(e.getMinutes()+t),e.getHours()+":"+e.getMinutes()}}},u=l,d=(s("e59c"),s("9ca4")),f=Object(d["a"])(u,o,c,!1,null,null,null),v=f.exports,_=s("df23"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-item",on:{click:function(e){return t.$emit("click")}}},[s("div",{staticClass:"cart-item-title"},[t._v(t._s(t.title))]),t.subHead?s("div",{staticClass:"cart-item-right"},[s("span",[t._v(t._s(t.subHead))]),s("i",{staticClass:"fa fa-angle-right"})]):t._e()])},h=[],m={name:"CartItem",props:{title:String,subHead:String}},I=m,C=(s("0c57"),Object(d["a"])(I,p,h,!1,null,"7c48771e",null)),b=C.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",[t.isShow?s("div",{staticClass:"tableware"},[s("div",{staticClass:"actions-sheet"},[s("i",{staticClass:"fa fa-remove",on:{click:function(e){return t.$emit("close")}}}),s("h2",{staticClass:"actions-sheet-header"},[s("span",{staticClass:"tag"}),s("span",{staticClass:"title"},[t._v("餐具份数")]),s("span",{staticClass:"tag"})]),s("ul",t._l(t.tablewareList,(function(e,a){return s("li",{key:a,class:{selected:t.selectItem==e},on:{click:function(s){return t.clickItem(e)}}},[t._v("\n          "+t._s(e)+"\n        ")])})),0)])]):t._e()])},k=[],w={name:"tableware",data:function(){return{tablewareList:["1","2","3","4","5","6"],selectItem:""}},props:{isShow:Boolean},methods:{clickItem:function(t){this.selectItem=t,this.$store.dispatch("setRemarkInfo",{tableware:t+"份餐具",remark:this.$store.getters.remarkInfo.remark}),this.$emit("close")}}},y=w,$=(s("5451"),Object(d["a"])(y,g,k,!1,null,"f4e2dc54",null)),x=$.exports,A={name:"settlement",components:{Header:i["a"],Delivery:v,CartGroup:_["a"],CartItem:b,TableWare:x},data:function(){return{haveAddress:!1,showTableware:!1}},computed:{userInfo:function(){return this.$store.getters.userInfo},orderInfo:function(){return this.$store.getters.orderInfo},totalPrice:function(){return this.$store.getters.totalPrice},remarkInfo:function(){return this.$store.getters.remarkInfo}},beforeRouteEnter:function(t,e,s){s((function(t){t.userInfo||t.getData()}))},methods:{addAddress:function(){this.$router.push({name:"addaddress",params:{title:"添加地址",addressInfo:{name:"",sex:"",phone:"",address:"",bottom:"",tag:""}}})},getData:function(){var t=this;this.axios("/api/user/user_info/".concat(localStorage.love_login)).then((function(e){e.data.myAddress.length>0?t.haveAddress=!0:t.haveAddress=!1}))},handlePay:function(){this.userInfo?this.$router.push("pay"):Object(n["Toast"])({message:"请选择的收货地址",position:"bottom",duration:5e3})}}},H=A,P=(s("a6e4"),Object(d["a"])(H,a,r,!1,null,"3d815aa9",null));e["default"]=P.exports},d96c:function(t,e,s){},df23:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checkout-section cart-group"},[s("h3",[t._v(t._s(t.orderInfo.shopInfo.name))]),s("ul",[t._l(t.orderInfo.selectFoods,(function(e,a){return s("li",{key:a},[s("img",{attrs:{src:e.image_path,alt:""}}),s("div",{staticClass:"cart-group-info"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v("x "+t._s(e.count))]),s("span",[t._v(t._s(e.activity.fixed_price))])])])})),s("li",{staticClass:"cart-group-total"},[s("div",[t._v("配送费")]),s("div",[t._v("¥"+t._s(t.orderInfo.shopInfo.float_delivery_fee))])]),s("li",{staticClass:"cart-group-total"},[s("div",{staticClass:"discounts"}),s("div",{staticClass:"subtotal"},[s("span",[t._v("小计 ¥")]),s("span",{staticClass:"price"},[t._v(t._s(t.totalPrice))])])])],2)])},r=[],n=(s("163d"),{name:"cartgroup",props:{orderInfo:Object,totalPrice:Number}}),i=n,o=(s("10ed"),s("9ca4")),c=Object(o["a"])(i,a,r,!1,null,null,null);e["a"]=c.exports},e59c:function(t,e,s){"use strict";var a=s("169d"),r=s.n(a);r.a},f37c:function(t,e,s){}}]);
//# sourceMappingURL=chunk-52b4ae62.82b7170d.js.map