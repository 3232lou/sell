{"version":3,"sources":["webpack:///./src/views/Orders/MyAddress.vue?bc53","webpack:///./src/views/Orders/MyAddress.vue?a51e","webpack:///src/views/Orders/MyAddress.vue","webpack:///./src/views/Orders/MyAddress.vue?377f","webpack:///./src/views/Orders/MyAddress.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","_l","address","index","key","selectIndex","_e","on","$event","setAddressInfo","_v","_s","name","sex","phone","tag","handleEdit","handleDelete","addAddress","staticRenderFns","data","allAddress","beforeRouteEnter","next","vm","getData","methods","$router","push","params","addressInfo","bottom","$store","dispatch","axios","console","log","res","components","Header","component"],"mappings":"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","file":"js/chunk-e14a0cce.82cba455.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MyAddress.vue?vue&type=style&index=0&id=6f7b8fd9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MyAddress.vue?vue&type=style&index=0&id=6f7b8fd9&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myAdderss\"},[_c('Header',{attrs:{\"isLeft\":true,\"title\":_vm.title}}),_c('div',{staticClass:\"address-view\"},_vm._l((_vm.allAddress),function(address,index){return _c('div',{key:index,staticClass:\"address-card\"},[_c('div',{staticClass:\"address-card-select\"},[(_vm.selectIndex == index)?_c('i',{staticClass:\"fa fa-check-circle\"}):_vm._e()]),_c('div',{staticClass:\"address-card-body\",on:{\"click\":function($event){return _vm.setAddressInfo(address, index)}}},[_c('p',{staticClass:\"address-card-title\"},[_c('span',{staticClass:\"username\"},[_vm._v(_vm._s(address.name))]),(address.sex)?_c('span',{staticClass:\"gender\"},[_vm._v(_vm._s(address.sex))]):_vm._e(),_c('span',{staticClass:\"phone\"},[_vm._v(_vm._s(address.phone))])]),_c('p',{staticClass:\"address-card-address\"},[(address.tag)?_c('span',{staticClass:\"tag\"},[_vm._v(_vm._s(address.tag))]):_vm._e(),_c('span',{staticClass:\"address-text\"},[_vm._v(_vm._s(address.address))])])]),_c('div',{staticClass:\"address-card-edit\"},[_c('i',{staticClass:\"fa fa-edit\",on:{\"click\":function($event){return _vm.handleEdit(address)}}}),_c('i',{staticClass:\"fa fa-close\",on:{\"click\":function($event){return _vm.handleDelete(address, index)}}})])])}),0),_c('div',{staticClass:\"address-view-bottom\",on:{\"click\":_vm.addAddress}},[_c('i',{staticClass:\"fa fa-plus-circle\"}),_c('span',[_vm._v(\"新增收货地址\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"myAdderss\">\r\n    <Header :isLeft=\"true\" :title=\"title\"></Header>\r\n    <!--显示收货地址-->\r\n    <div class=\"address-view\">\r\n      <div\r\n        class=\"address-card\"\r\n        v-for=\"(address, index) in allAddress\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"address-card-select\">\r\n          <i class=\"fa fa-check-circle\" v-if=\"selectIndex == index\"></i>\r\n        </div>\r\n\r\n        <div class=\"address-card-body\" @click=\"setAddressInfo(address, index)\">\r\n          <p class=\"address-card-title\">\r\n            <span class=\"username\">{{ address.name }}</span>\r\n            <span v-if=\"address.sex\" class=\"gender\">{{ address.sex }}</span>\r\n            <span class=\"phone\">{{ address.phone }}</span>\r\n          </p>\r\n          <p class=\"address-card-address\">\r\n            <span class=\"tag\" v-if=\"address.tag\">{{ address.tag }}</span>\r\n            <span class=\"address-text\">{{ address.address }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"address-card-edit\">\r\n          <i @click=\"handleEdit(address)\" class=\"fa fa-edit\"></i>\r\n          <i @click=\"handleDelete(address, index)\" class=\"fa fa-close\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--新增收货地址-->\r\n    <div class=\"address-view-bottom\" @click=\"addAddress\">\r\n      <i class=\"fa fa-plus-circle\"></i>\r\n      <span>新增收货地址</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from \"@/components/Header\";\r\nexport default {\r\n  name: \"myaddress\",\r\n  data() {\r\n    return {\r\n      selectIndex:0,\r\n      title: \"我的地址\",\r\n      allAddress: [],\r\n      \r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      vm.getData();\r\n    });\r\n  },\r\n  methods: {\r\n    addAddress() {\r\n      this.$router.push({\r\n        name:'addaddress',\r\n        params: {\r\n          title: \"添加地址\",\r\n          addressInfo: {\r\n            name: \"\",\r\n            sex: \"\",\r\n            phone: \"\",\r\n            address: \"\",\r\n            bottom: \"\",\r\n            tag: \"\"\r\n          }\r\n        }\r\n      });\r\n    },\r\n     setAddressInfo(address, index) {\r\n      this.selectIndex = index;\r\n      // 将address对象存储到vuex\r\n      this.$store.dispatch(\"setUserInfo\", address);\r\n      this.$router.push(\"/settlement\");\r\n    },\r\n    getData() {\r\n      this.axios(`/api/user/user_info/${localStorage.love_login}`).then(res => {\r\n        console.log(res.data);\r\n        this.allAddress = res.data.myAddress;\r\n      });\r\n    },\r\n    handleEdit(address) {\r\n      this.$router.push({\r\n        name: \"addaddress\",\r\n        params: {\r\n          title: \"编辑地址\",\r\n          addressInfo: address\r\n        }\r\n      });\r\n    },\r\n    handleDelete(address, index) {\r\n      this.axios\r\n        .delete(`/api/user/address/${localStorage.love_login}/${address._id}`)\r\n        .then(res => {\r\n          this.allAddress.splice(index, 1);\r\n        });\r\n    }\r\n  },\r\n  components: {\r\n    Header\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.myAddress {\r\n  width: 100%;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  padding-top: 45px;\r\n}\r\n\r\n.address-view-bottom {\r\n  position: fixed;\r\n  height: 13.866667vw;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background: #fff;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-top: 0.266667vw solid #ddd;\r\n  color: #3190e8;\r\n  font-size: 24px;\r\n}\r\n.address-view-bottom > i {\r\n  font-size: 24px;\r\n  margin-right: 8px;\r\n}\r\n\r\n.address-view {\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  padding-bottom: 13.866667vw;\r\n}\r\n.address-card {\r\n  background-color: #fff;\r\n  padding: 4vw;\r\n  border-bottom: 1px solid #ddd;\r\n  display: flex;\r\n  min-height: 18.133333vw;\r\n}\r\n.address-card-body {\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n.address-card-title {\r\n  font-size: 24px;\r\n  color: #666;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  padding-bottom: 1.066667vw;\r\n}\r\n.address-card-title .username {\r\n  color: #333;\r\n  font-weight: 700;\r\n}\r\n.address-card-title .gender {\r\n  padding: 0 1.6vw 0 0.8vw;\r\n}\r\n.address-card-address {\r\n  color: #666;\r\n  font-size: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.address-card-address .tag {\r\n  display: inline-block;\r\n  position: relative;\r\n  margin-right: 0.8vw;\r\n  padding: 0.533333vw;\r\n  color: #ff5722;\r\n  white-space: nowrap;\r\n  border: 1px solid #ff5722;\r\n  border-radius: 0.133333vw;\r\n  font-size: 18px !important;\r\n  line-height: 2.666667vw;\r\n}\r\n.address-text {\r\n  line-height: 4.533333vw;\r\n}\r\n\r\n/* 编辑和删除 */\r\n.address-card-edit {\r\n  flex-basis: 13.066667vw;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n}\r\n.address-card-edit > i {\r\n  color: #aaa;\r\n  font-size: 28px;\r\n}\r\n\r\n/*  选中图标 */\r\n.address-card-select {\r\n  flex-basis: 7.333333vw;\r\n  min-width: 7.333333vw;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.address-card-select > i {\r\n  font-size: 24px;\r\n  color: #4cd964;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MyAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./MyAddress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyAddress.vue?vue&type=template&id=6f7b8fd9&scoped=true&\"\nimport script from \"./MyAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./MyAddress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyAddress.vue?vue&type=style&index=0&id=6f7b8fd9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f7b8fd9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}